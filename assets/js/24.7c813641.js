(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{416:function(t,e,a){"use strict";a.r(e);var s=a(5),n=Object(s.a)({},(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"join-a-public-network"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#join-a-public-network"}},[t._v("#")]),t._v(" Join a public network")]),t._v(" "),a("p",[t._v("After you've "),a("RouterLink",{attrs:{to:"/How-to/Run-a-full-Terra-node/Set-up-private-network.html"}},[t._v("run a simple local Terra network")]),t._v(", join a public Terra network, such as the Columbus mainnet or Bombay testnet, by completing the following steps.")],1),t._v(" "),a("h2",{attrs:{id:"setup"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#setup"}},[t._v("#")]),t._v(" Setup")]),t._v(" "),a("p",[t._v("These instructions are for setting up a brand new full node from scratch.")]),t._v(" "),a("h3",{attrs:{id:"initialize-and-configure-moniker"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#initialize-and-configure-moniker"}},[t._v("#")]),t._v(" Initialize and configure moniker")]),t._v(" "),a("p",[t._v("First, initialize the node and create the necessary config files:")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("terrad init "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("your_custom_moniker"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])])]),a("div",{staticClass:"custom-block warning"},[a("p",{staticClass:"custom-block-title"},[t._v("Moniker characters")]),t._v(" "),a("p",[t._v("Monikers can only contain ASCII characters; using Unicode characters will render your node unreachable by other peers in the network.")])]),t._v(" "),a("p",[t._v("You can edit this "),a("code",[t._v("moniker")]),t._v(" later, in the "),a("code",[t._v("~/.terra/config/config.toml")]),t._v(" file:")]),t._v(" "),a("div",{staticClass:"language-toml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-toml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# A custom human readable name for this node")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("moniker")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"<your_custom_moniker>"')]),t._v("\n")])])]),a("h3",{attrs:{id:"set-minimum-gas-prices-for-transactions-recommended"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#set-minimum-gas-prices-for-transactions-recommended"}},[t._v("#")]),t._v(" Set minimum gas prices for transactions (recommended)")]),t._v(" "),a("p",[t._v("You can edit "),a("code",[t._v("~/.terra/config/app.toml")]),t._v(" in order to enable anti-spam by rejecting incoming transactions with implied gas price less than a specified minimum. The minimum gas prices recommended for the Terra mainnet network is the following:")]),t._v(" "),a("div",{staticClass:"language-toml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-toml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# The minimum gas prices a validator is willing to accept for processing a")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# transaction. A transaction's fees must meet the minimum of any denomination")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# specified in this config (e.g. 0.25token1,0.0001token2).")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("minimum-gas-prices")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"0.01133uluna,0.15uusd,0.104938usdr,169.77ukrw,428.571umnt,0.125ueur,0.98ucny,16.37ujpy,0.11ugbp,10.88uinr,0.19ucad,0.14uchf,0.19uaud,0.2usgd,4.62uthb,1.25usek,1.25unok,0.9udkk,2180.0uidr,7.6uphp,1.17uhkd"')]),t._v("\n")])])]),a("p",[t._v("Your full node has now been initialized!")]),t._v(" "),a("h2",{attrs:{id:"pick-a-network"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#pick-a-network"}},[t._v("#")]),t._v(" Pick a Network")]),t._v(" "),a("p",[t._v("Specify the network you want to join by setting the "),a("strong",[t._v("genesis file")]),t._v(" and "),a("strong",[t._v("seeds")]),t._v(". If you need more information about past networks, visit the "),a("a",{attrs:{href:"https://github.com/terra-money/testnet",target:"_blank",rel:"noopener noreferrer"}},[t._v("Networks Repo"),a("OutboundLink")],1),t._v(".")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Network")]),t._v(" "),a("th",[t._v("Description")]),t._v(" "),a("th",[t._v("Homepage")]),t._v(" "),a("th",[t._v("Address Book")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[a("code",[t._v("columbus-5")])]),t._v(" "),a("td",[t._v("Mainnet")]),t._v(" "),a("td",[a("a",{attrs:{href:"https://github.com/terra-money/mainnet/tree/master/columbus-5",target:"_blank",rel:"noopener noreferrer"}},[t._v("Link"),a("OutboundLink")],1)]),t._v(" "),a("td",[t._v("https://network.terra.dev/addrbook.json")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("bombay-12")])]),t._v(" "),a("td",[t._v("Testnet")]),t._v(" "),a("td",[a("a",{attrs:{href:"https://github.com/terra-money/testnet/tree/master/bombay-12",target:"_blank",rel:"noopener noreferrer"}},[t._v("Link"),a("OutboundLink")],1)]),t._v(" "),a("td",[t._v("https://network.terra.dev/testnet/addrbook.json")])])])]),t._v(" "),a("h3",{attrs:{id:"download-the-genesis-file"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#download-the-genesis-file"}},[t._v("#")]),t._v(" Download the genesis file")]),t._v(" "),a("p",[t._v("Select the network you want to join and download its "),a("code",[t._v("genesis.json")]),t._v(" file into your "),a("code",[t._v("~/.terra/config")]),t._v(" directory. This file specifies the genesis account balances and parameters to use when replaying transactions and syncing.")]),t._v(" "),a("ul",[a("li",[t._v("Columbus-5 mainnet genesis:")])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("wget")]),t._v(" https://columbus-genesis.s3.ap-northeast-1.amazonaws.com/columbus-5-genesis.json -O ~/.terra/config/genesis.json\n")])])]),a("ul",[a("li",[t._v("Bombay-12 testnet genesis:")])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("wget")]),t._v(" https://raw.githubusercontent.com/terra-money/testnet/master/bombay-12/genesis.json -I ~/.terra/config/genesis.json\n")])])]),a("p",[t._v("Note we use the "),a("code",[t._v("latest")]),t._v(" directory in the "),a("a",{attrs:{href:"https://github.com/terra-money/testnet",target:"_blank",rel:"noopener noreferrer"}},[t._v("networks repo"),a("OutboundLink")],1),t._v(" which contains details for the latest testnet. If you are connecting to a different testnet, ensure you get the right files.")]),t._v(" "),a("p",[t._v("To start terrad, enter the following:")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("terrad start\n")])])]),a("h3",{attrs:{id:"download-address-book-recommended-for-the-mainnet"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#download-address-book-recommended-for-the-mainnet"}},[t._v("#")]),t._v(" Download address book (recommended for the mainnet)")]),t._v(" "),a("p",[t._v("To give your node a selection of peers to dial and find other nodes, download "),a("code",[t._v("addrbook.json")]),t._v(" and move it into "),a("code",[t._v("~/.terra/config/addrbook.json")]),t._v(".")]),t._v(" "),a("p",[t._v("For advanced settings, visit "),a("a",{attrs:{href:"#define-seed-nodes"}},[t._v("Define seed nodes")]),t._v(".")]),t._v(" "),a("ul",[a("li",[t._v("Columbus mainnet address book:")])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("wget")]),t._v(" https://network.terra.dev/addrbook.json -O ~/.terra/config/addrbook.json\n")])])]),a("ul",[a("li",[t._v("Bombay testnet address book:")])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("wget")]),t._v(" https://raw.githubusercontent.com/terra-money/testnet/master/bombay-12/addrbook.json -O ~/.terra/config/addrbook.json\n")])])]),a("h2",{attrs:{id:"connecting-to-the-network"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#connecting-to-the-network"}},[t._v("#")]),t._v(" Connecting to the Network")]),t._v(" "),a("h3",{attrs:{id:"run-your-node"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#run-your-node"}},[t._v("#")]),t._v(" Run your node")]),t._v(" "),a("p",[t._v("Start the full node with this command:")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("terrad start\n")])])]),a("p",[t._v("Check that everything is running smoothly:")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("terrad status\n")])])]),a("h3",{attrs:{id:"wait-for-node-to-sync"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#wait-for-node-to-sync"}},[t._v("#")]),t._v(" Wait for node to sync")]),t._v(" "),a("div",{staticClass:"custom-block warning"},[a("p",{staticClass:"custom-block-title"},[t._v("Sync start times")]),t._v(" "),a("p",[t._v("Nodes take at least an hour to start syncing. This wait is normal. Before troubleshooting a sync, please wait an hour for the sync to start.")])]),t._v(" "),a("p",[t._v("Your node is catching up with the network by replaying all the transactions from genesis and recreating the blockchain state locally. This will take a long time, so make sure you've set it up on a stable connection so you can leave while it syncs.")]),t._v(" "),a("ul",[a("li",[t._v("Validators can view the status of the network with "),a("a",{attrs:{href:"https://finder.terra.money",target:"_blank",rel:"noopener noreferrer"}},[t._v("Terra Finder"),a("OutboundLink")],1),t._v(".")]),t._v(" "),a("li",[t._v("Once your full node syncs up to the current block height, it will appear on the "),a("a",{attrs:{href:"https://terra.stake.id/",target:"_blank",rel:"noopener noreferrer"}},[t._v("list of full nodes"),a("OutboundLink")],1),t._v(".")]),t._v(" "),a("li",[t._v("For faster syncs during testing, see "),a("a",{attrs:{href:"#node-sync-for-testing"}},[t._v("node sync for testing")])])]),t._v(" "),a("p",[t._v("Congratulations! You've successfully joined a network as a full node operator. If you are a validator, continue to "),a("RouterLink",{attrs:{to:"/How-to/Manage-a-Terra-validator/Overview.html"}},[t._v("manage a Terra validator")]),t._v(" for next steps.")],1),t._v(" "),a("h3",{attrs:{id:"using-a-data-backup-recommended-for-the-mainnet"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#using-a-data-backup-recommended-for-the-mainnet"}},[t._v("#")]),t._v(" Using a data backup (recommended for the mainnet)")]),t._v(" "),a("p",[t._v("If you are connecting to an existing network for which you have a data backup (from a provider you trust), you can optionally load the backup into your node storage rather than syncing from scratch.")]),t._v(" "),a("p",[t._v("To access Columbus-5 node data backups provided by ChainLayer, visit "),a("a",{attrs:{href:"https://terra.quicksync.io/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Terra QuickSync"),a("OutboundLink")],1),t._v(".")]),t._v(" "),a("h2",{attrs:{id:"appendix"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#appendix"}},[t._v("#")]),t._v(" Appendix")]),t._v(" "),a("h3",{attrs:{id:"upgrading-testnet"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#upgrading-testnet"}},[t._v("#")]),t._v(" Upgrading Testnet")]),t._v(" "),a("p",[t._v("These instructions are for full nodes that have ran on previous testnets and would like to upgrade to the latest testnet.")]),t._v(" "),a("h4",{attrs:{id:"reset-data"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#reset-data"}},[t._v("#")]),t._v(" Reset data")]),t._v(" "),a("p",[t._v("First, remove the outdated files and reset the data.")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("rm")]),t._v(" ~/.terra/config/genesis.json\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("rm")]),t._v(" ~/.terra/config/addrbook.json\nterrad unsafe-reset-all\n")])])]),a("p",[t._v("Your node is now in a pristine state while keeping the original "),a("code",[t._v("priv_validator.json")]),t._v(" and "),a("code",[t._v("config.toml")]),t._v(". If you had any sentry nodes or full nodes setup before, your node will still try to connect to them, but may fail if they haven't also been upgraded.")]),t._v(" "),a("div",{staticClass:"custom-block danger"},[a("p",{staticClass:"custom-block-title"},[t._v("WARNING")]),t._v(" "),a("p",[t._v("Make sure that every node has a unique "),a("code",[t._v("priv_validator.json")]),t._v(". Do not copy the "),a("code",[t._v("priv_validator.json")]),t._v(" from an old node to multiple new nodes. Running two nodes with the same "),a("code",[t._v("priv_validator.json")]),t._v(" will cause you to double sign.")])]),t._v(" "),a("h4",{attrs:{id:"software-upgrade"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#software-upgrade"}},[t._v("#")]),t._v(" Software upgrade")]),t._v(" "),a("p",[t._v("Now it is time to upgrade the software. Go to the project directory, and run:")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" checkout master "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" pull\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("make")]),t._v("\n")])])]),a("div",{staticClass:"custom-block warning"},[a("p",{staticClass:"custom-block-title"},[t._v("NOTE")]),t._v(" "),a("p",[t._v("If you have issues at this step, please check that you have the latest stable version of GO installed.")])]),t._v(" "),a("p",[t._v("Note we use "),a("code",[t._v("master")]),t._v(" here since it contains the latest stable release. See the "),a("a",{attrs:{href:"https://github.com/terra-money/testnet",target:"_blank",rel:"noopener noreferrer"}},[t._v("testnet repo"),a("OutboundLink")],1),t._v(" for details on which version is needed for which testnet, and the "),a("a",{attrs:{href:"https://github.com/terra-money/core/releases",target:"_blank",rel:"noopener noreferrer"}},[t._v("Terra Core release page"),a("OutboundLink")],1),t._v(" for details on each release. Your full node has been cleanly upgraded!")]),t._v(" "),a("h3",{attrs:{id:"exporting-state"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#exporting-state"}},[t._v("#")]),t._v(" Exporting state")]),t._v(" "),a("p",[t._v("Terra can dump the entire application state to a JSON file, which could be useful for manual analysis and can also be used as the genesis file of a new network.")]),t._v(" "),a("p",[t._v("Export state with:")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("terrad "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("filename"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(".json\n")])])]),a("p",[t._v("You can also export state from a particular height (at the end of processing the block of that height):")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("terrad "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("export")]),t._v(" --height "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("height"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("filename"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(".json\n")])])]),a("p",[t._v("If you plan to start a new network from the exported state, export with the "),a("code",[t._v("--for-zero-height")]),t._v(" flag:")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("terrad "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("export")]),t._v(" --height "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("height"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" --for-zero-height "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("filename"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(".json\n")])])]),a("h3",{attrs:{id:"node-sync-for-testing"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#node-sync-for-testing"}},[t._v("#")]),t._v(" Node sync for testing")]),t._v(" "),a("p",[t._v("Sometimes you may want to sync faster by foregoing checks. This command should only be used by advanced users in non-production environments. To speed up the sync process during testing, use the following command:")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("terrad start --x-crisis-skip-assert-invariants\n")])])]),a("div",{staticClass:"custom-block warning"},[a("p",{staticClass:"custom-block-title"},[t._v("NOTE")]),t._v(" "),a("p",[t._v("For more information on seeds and peers, visit "),a("a",{attrs:{href:"https://github.com/tendermint/tendermint/blob/master/docs/tendermint-core/using-tendermint.md#peers",target:"_blank",rel:"noopener noreferrer"}},[t._v("Tendermint's documentation"),a("OutboundLink")],1),t._v(".")])]),t._v(" "),a("p",[t._v("For seed mode and p2p settings, visit the "),a("RouterLink",{attrs:{to:"/How-to/Run-a-full-Terra-node/Configure-general-settings.html#additional-settings"}},[t._v("additional settings page")]),t._v(".")],1)])}),[],!1,null,null,null);e.default=n.exports}}]);